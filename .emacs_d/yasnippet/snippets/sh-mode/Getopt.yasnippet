# -*- mode: snippet -*-
# key: Getopt
# name: Getopt
# --
TEMP=\$(getopt -o ${1:j}: --long ${2:jobs}: -n \$(basename \$0) -- "\$@")
$2=
eval set -- "\$TEMP"
while true; do
    case "\$1" in
        -$1|--$2)
            $2=\$2
            shift 2
            ;;
        --)
            shift
            break
            ;;
        *)
            die "internal error"
            ;;
    esac
done